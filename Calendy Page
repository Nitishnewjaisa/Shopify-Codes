<!DOCTYPE html>
<html>
<head>
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/locales-all.min.js"></script>
  <script src="https://apis.google.com/js/api.js"></script>
  <style>
    #event-details {
      margin-top: 20px;
      padding: 10px;
      background: #f1f1f1;
    }

  .calendly-badge-widget {
    display: none !important;
  }
  </style>
</head>
<body>
<!-- Calendly inline widget begin -->
<div class="calendly-inline-widget" data-url="https://calendly.com/solutions-newjaisa" style="min-width:320px;height:700px;"></div>
<script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
<!-- Calendly inline widget end -->
<script>
  const calendarId = 'YOUR_CALENDAR_ID'; // e.g., randomstring@group.calendar.google.com
  const apiKey = 'YOUR_GOOGLE_API_KEY';

  document.addEventListener('DOMContentLoaded', function () {
    const calendarEl = document.getElementById('calendar');

    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      selectable: true,
      dateClick: function (info) {
        const clickedDate = info.dateStr;

        // Fetch events for selected day
        fetch(`https://www.googleapis.com/calendar/v3/calendars/${calendarId}/events?key=${apiKey}&timeMin=${clickedDate}T00:00:00Z&timeMax=${clickedDate}T23:59:59Z&singleEvents=true&orderBy=startTime`)
          .then(response => response.json())
          .then(data => {
            const eventDetailsEl = document.getElementById('event-details');
            eventDetailsEl.innerHTML = `<h3>Available Slots on ${clickedDate}</h3>`;

            if (data.items.length === 0) {
              eventDetailsEl.innerHTML += "<p>No time slots available.</p>";
            } else {
              data.items.forEach(event => {
                const startTime = new Date(event.start.dateTime).toLocaleTimeString();
                eventDetailsEl.innerHTML += `<p>‚è∞ ${startTime} - ${event.summary || 'Untitled Event'}</p>`;
              });
            }
          });
      }
    });

    calendar.render();
  });
</script>

</body>
</html>
